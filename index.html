<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>San Valent√≠n üíò</title>
  <style>
    :root{
      --bg1:#ffeff6;
      --bg2:#fff7fb;
      --card:#ffffff;
      --text:#1f1f1f;
      --muted:#6b6b6b;
      --yes:#ff3b7a;
      --no:#2f2f2f;
      --shadow: 0 12px 40px rgba(0,0,0,.12);
      --radius: 22px;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color:var(--text);
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      background: radial-gradient(1200px 800px at 20% 10%, var(--bg1), transparent 60%),
                  radial-gradient(1200px 800px at 80% 90%, var(--bg2), transparent 60%),
                  #fff;
      overflow:hidden;
      user-select:none;
      -webkit-tap-highlight-color: transparent;
    }

    .wrap{
      width:min(540px, 92vw);
      padding:18px;
      position:relative;
    }

    .card{
      background:var(--card);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      padding:26px 22px 20px;
      text-align:center;
      border:1px solid rgba(0,0,0,.06);
    }

    h1{
      margin:0 0 8px;
      font-size:clamp(22px, 5vw, 34px);
      letter-spacing:.2px;
    }
    p{
      margin:0 0 18px;
      color:var(--muted);
      font-size:clamp(14px, 3.4vw, 16px);
      line-height:1.35;
    }

    .stage{
      position:relative;
      height:210px;
      border-radius:18px;
      background: rgba(255,59,122,.06);
      border:1px dashed rgba(255,59,122,.25);
      display:flex;
      align-items:center;
      justify-content:center;
      overflow:hidden;
    }

    .btn{
      border:0;
      cursor:pointer;
      padding:14px 18px;
      border-radius:999px;
      font-weight:700;
      font-size:16px;
      transition: transform .12s ease, filter .12s ease;
      touch-action: none;
    }
    .btn:active{ transform: scale(.98); }

    #yes{
      background:var(--yes);
      color:white;
      box-shadow: 0 14px 34px rgba(255,59,122,.35);
      transform-origin:center;
      position:relative;
      z-index:2;
    }

    #no{
      background:rgba(47,47,47,.08);
      color:var(--no);
      border:1px solid rgba(47,47,47,.18);
      position:absolute;
      left:62%;
      top:58%;
      transform: translate(-50%, -50%);
      z-index:1;
    }

    .hint{
      margin-top:12px;
      font-size:12.5px;
      color:rgba(0,0,0,.45);
    }

    .success{
      display:none;
      margin-top:14px;
      padding:16px 14px;
      border-radius:18px;
      background: rgba(255,59,122,.08);
      border:1px solid rgba(255,59,122,.20);
    }
    .success h2{
      margin:0 0 6px;
      font-size:22px;
    }
    .success p{
      margin:0;
      color:rgba(0,0,0,.70);
    }

    /* Corazones */
    .heart{
      position:fixed;
      width:14px;
      height:14px;
      transform: rotate(45deg);
      background: rgba(255,59,122,.85);
      left: 50%;
      top: 50%;
      pointer-events:none;
      opacity:0;
      border-radius:3px;
      animation: floatUp 1.6s ease forwards;
      filter: drop-shadow(0 10px 18px rgba(255,59,122,.25));
    }
    .heart:before, .heart:after{
      content:"";
      position:absolute;
      width:14px;
      height:14px;
      background: inherit;
      border-radius:50%;
    }
    .heart:before{ left:-7px; top:0; }
    .heart:after{ left:0; top:-7px; }

    @keyframes floatUp{
      0%{ opacity:0; transform: translate(0,0) rotate(45deg) scale(.9); }
      12%{ opacity:1; }
      100%{ opacity:0; transform: translate(var(--dx), calc(-1 * var(--dy))) rotate(45deg) scale(1.25); }
    }

    /* Pantalla cute final */
    .overlay{
      position:fixed;
      inset:0;
      background: rgba(255,255,255,.92);
      backdrop-filter: blur(6px);
      display:none;
      align-items:center;
      justify-content:center;
      z-index:50;
      padding:18px;
      text-align:center;
    }
    .overlay .box{
      width:min(560px, 94vw);
      background:white;
      border-radius:26px;
      box-shadow:var(--shadow);
      border:1px solid rgba(0,0,0,.06);
      padding:26px 20px;
    }
    .big{
      font-size:clamp(26px, 6vw, 40px);
      margin:0 0 10px;
    }
    .tiny{
      margin:0;
      color:rgba(0,0,0,.68);
      font-size:clamp(14px, 3.6vw, 16px);
    }
    .footer{
      margin-top:16px;
      font-size:12px;
      color:rgba(0,0,0,.45);
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <h1>¬øQuieres ser mi San Valent√≠n? üíò</h1>
      <p>Prometo risas, abrazos y un beb√© bonito.</p>

      <div class="stage" id="stage">
        <button class="btn" id="yes">S√≠ üíñ</button>
        <button class="btn" id="no">No üíÄ </button>
      </div>

      <div class="hint">Tip: el bot√≥n ‚ÄúNo‚Äù es t√≠mido üôà</div>

      <div class="success" id="success">
        <h2>¬°Sab√≠a que s√≠! ü•∞</h2>
        <p>Te debo una cita, bonita( y un beb√©). üíê</p>
      </div>
    </div>
  </div>

  <div class="overlay" id="overlay">
    <div class="box">
      <div class="big">Fuck Yeah ü•πüíòüî•üî•üî•üî•üî•üî•üî•</div>
      <p class="tiny">Oficialmente eres mi San Valent√≠n. Gracias por existir. üåô‚ú®</p>
      <div class="footer">Toca en cualquier parte para cerrar</div>
    </div>
  </div>

  <script>
    const stage = document.getElementById("stage");
    const yes = document.getElementById("yes");
    const no = document.getElementById("no");
    const success = document.getElementById("success");
    const overlay = document.getElementById("overlay");

    let yesScale = 1;
    let noDodges = 0;

    function clamp(n, a, b){ return Math.max(a, Math.min(b, n)); }

    function stageRect(){
      return stage.getBoundingClientRect();
    }

    function moveNo(aggressive=false){
      const r = stageRect();
      const pad = 14;

      const noW = no.offsetWidth;
      const noH = no.offsetHeight;

      let x = Math.random() * (r.width - noW - pad*2) + pad;
      let y = Math.random() * (r.height - noH - pad*2) + pad;

      // Evita caer encima del bot√≥n S√≠
      const yesBox = yes.getBoundingClientRect();
      const targetYesCenterX = yesBox.left + yesBox.width/2 - r.left;
      const targetYesCenterY = yesBox.top + yesBox.height/2 - r.top;

      const dx = x + noW/2 - targetYesCenterX;
      const dy = y + noH/2 - targetYesCenterY;
      const dist = Math.hypot(dx, dy);

      if(dist < (aggressive ? 140 : 120)){
        x = clamp(x + (dx >= 0 ? 120 : -120), pad, r.width - noW - pad);
        y = clamp(y + (dy >= 0 ? 80 : -80), pad, r.height - noH - pad);
      }

      no.style.left = x + "px";
      no.style.top = y + "px";
      no.style.transform = "translate(0,0)";
    }

    function growYes(amount){
      yesScale = clamp(yesScale + amount, 1, 3.2);
      yes.style.transform = `scale(${yesScale})`;
      // Peque√±o brillo cuando crece
      yes.style.filter = `brightness(${clamp(1 + (yesScale-1)*0.12, 1, 1.25)})`;
    }

    function spawnHearts(n=10){
      for(let i=0;i<n;i++){
        const h = document.createElement("div");
        h.className = "heart";
        const x = Math.random() * window.innerWidth;
        const y = window.innerHeight + Math.random()*80;

        const dx = (Math.random() * 240 - 120) + "px";
        const dy = (420 + Math.random()*420) + "px";

        h.style.left = x + "px";
        h.style.top = y + "px";
        h.style.setProperty("--dx", dx);
        h.style.setProperty("--dy", dy);
        h.style.opacity = "0";

        document.body.appendChild(h);
        setTimeout(()=> h.remove(), 1700);
      }
    }

    // El NO huye cuando se le acerca el dedo o el mouse
    no.addEventListener("mouseenter", () => {
      noDodges++;
      moveNo(noDodges > 3);
      spawnHearts(4);
    });

    no.addEventListener("pointerdown", (e) => {
      e.preventDefault();
      noDodges++;
      moveNo(true);
      spawnHearts(6);
    });

    // Si intenta dar clic "en otro lado", el S√≠ crece
    stage.addEventListener("pointerdown", (e) => {
      const target = e.target;
      if(target !== yes && target !== no){
        growYes(0.10);
        spawnHearts(6);
      }
    });

    // En m√≥vil, si el dedo se acerca al NO, huye
    stage.addEventListener("pointermove", (e) => {
      const nb = no.getBoundingClientRect();
      const px = e.clientX, py = e.clientY;
      const cx = nb.left + nb.width/2;
      const cy = nb.top + nb.height/2;
      const dist = Math.hypot(px - cx, py - cy);

      if(dist < 80){
        noDodges++;
        moveNo(noDodges > 2);
      }
    });

    yes.addEventListener("click", () => {
      success.style.display = "block";
      overlay.style.display = "flex";
      spawnHearts(22);
      // Mini explosi√≥n extra
      setTimeout(()=> spawnHearts(18), 220);
      setTimeout(()=> spawnHearts(14), 520);
    });

    overlay.addEventListener("click", () => {
      overlay.style.display = "none";
    });

    // Coloca el NO en una posici√≥n inicial buena
    window.addEventListener("load", () => moveNo(false));
    window.addEventListener("resize", () => moveNo(false));
  </script>
</body>
</html>


